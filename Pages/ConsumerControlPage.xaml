<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="IoT_Sensor_Event_Dashboard_WinUi.Pages.ConsumerControlPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:IoT_Sensor_Event_Dashboard_WinUi.Pages"
    NavigationCacheMode="Required">

    <!-- 전체 Grid가 부모 비율에 맞게 확장 -->
    <Grid HorizontalAlignment="Stretch"
          VerticalAlignment="Stretch"
          Background="Transparent"
          Padding="24"
          RowSpacing="24">

        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- 상단 제목 -->
        <StackPanel Grid.Row="0" Spacing="4">
            <TextBlock Text="Consumer Control"
                       Style="{StaticResource Heading.Large}"/>
            <TextBlock Text="Monitor consumer health and throughput"
                       Style="{StaticResource Caption}"/>
        </StackPanel>

        <!-- Real-time Status 카드 -->
        <Border x:Name="statusSection"
                Grid.Row="1"
                Style="{StaticResource Card}"
                Margin="0">
            <StackPanel Spacing="20">
                <TextBlock Text="Real-time Status"
                           Style="{StaticResource Heading}"/>
                <Grid ColumnSpacing="24">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <StackPanel Grid.Column="0" Spacing="6">
                        <TextBlock Text="Partition" Style="{StaticResource Caption}"/>
                        <TextBlock x:Name="labelCurrentPartition" Text="--" FontSize="22" FontWeight="SemiBold"/>
                    </StackPanel>

                    <StackPanel Grid.Column="1" Spacing="6">
                        <TextBlock Text="Offset" Style="{StaticResource Caption}"/>
                        <TextBlock x:Name="labelCurrentOffset" Text="--" FontSize="22" FontWeight="SemiBold"/>
                    </StackPanel>

                    <StackPanel Grid.Column="2" Spacing="6">
                        <TextBlock Text="Throughput (msg/sec)" Style="{StaticResource Caption}"/>
                        <TextBlock x:Name="labelMessagesPerSecond" Text="--" FontSize="22" FontWeight="SemiBold"/>
                    </StackPanel>
                </Grid>
            </StackPanel>
        </Border>

        <!-- Recent Events 카드 -->
        <Border x:Name="recentSection"
                Grid.Row="2"
                Style="{StaticResource Card}"
                VerticalAlignment="Stretch">

            <StackPanel Spacing="16" VerticalAlignment="Stretch">
                <TextBlock Text="Recent Events"
                           Style="{StaticResource Heading}"/>

                <!-- 내부 스크롤 (여기만 스크롤) -->
                <ScrollViewer VerticalScrollBarVisibility="Auto"
                              HorizontalScrollBarVisibility="Disabled">
                    <StackPanel x:Name="stackPanelRecentEvents"
                                Spacing="8"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Top"/>
                </ScrollViewer>
            </StackPanel>
        </Border>
    </Grid>
</Page>
