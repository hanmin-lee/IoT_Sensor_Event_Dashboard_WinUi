<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="IoT_Sensor_Event_Dashboard_WinUi.Pages.ConsumerControlPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:IoT_Sensor_Event_Dashboard_WinUi.Pages"
    NavigationCacheMode="Required">

    <Grid Padding="32,32,32,36" Background="Transparent">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <StackPanel Grid.Row="0" Spacing="6">
            <TextBlock Text="Consumer Control" FontSize="28" FontWeight="SemiBold" Foreground="{StaticResource Brush.Text.Primary}"/>
            <TextBlock Text="Live Kafka subscription health and recent ingestion stream." Style="{StaticResource Caption}"/>
        </StackPanel>

        <StackPanel Grid.Row="1" Spacing="28" Margin="0,24,0,0">
            <Border x:Name="statusSection"
                    Background="{StaticResource Brush.Primary.Soft}"
                    CornerRadius="22"
                    Padding="28">
                <StackPanel Spacing="20">
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Stretch" Spacing="16">
                        <StackPanel Orientation="Horizontal" Spacing="12" VerticalAlignment="Center">
                            <FontIcon Glyph="&#xE945;" Foreground="{StaticResource Brush.Primary}" FontSize="24"/>
                            <TextBlock Text="Real-time Status" FontSize="20" FontWeight="SemiBold" Foreground="{StaticResource Brush.Primary}"/>
                        </StackPanel>
                        <Border Background="{StaticResource Brush.White}" CornerRadius="10" Padding="12,6" HorizontalAlignment="Left">
                            <TextBlock Text="Auto-refresh 1s" Foreground="{StaticResource Brush.Text.Muted}" FontSize="12"/>
                        </Border>
                    </StackPanel>

                    <Grid ColumnSpacing="18">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <Border Grid.Column="0" Background="{StaticResource Brush.White}" CornerRadius="18" Padding="20">
                            <StackPanel Spacing="6">
                                <TextBlock Text="Partition" Style="{StaticResource Heading.Sub}"/>
                                <TextBlock x:Name="labelCurrentPartition" Text="N/A" FontSize="26" FontWeight="SemiBold" Foreground="{StaticResource Brush.Text.Primary}"/>
                                <TextBlock Text="Assigned partition being consumed." Style="{StaticResource Caption}"/>
                            </StackPanel>
                        </Border>

                        <Border Grid.Column="1" Background="{StaticResource Brush.White}" CornerRadius="18" Padding="20">
                            <StackPanel Spacing="6">
                                <TextBlock Text="Offset" Style="{StaticResource Heading.Sub}"/>
                                <TextBlock x:Name="labelCurrentOffset" Text="N/A" FontSize="26" FontWeight="SemiBold" Foreground="{StaticResource Brush.Text.Primary}"/>
                                <TextBlock Text="Current commit position." Style="{StaticResource Caption}"/>
                            </StackPanel>
                        </Border>

                        <Border Grid.Column="2" Background="{StaticResource Brush.White}" CornerRadius="18" Padding="20">
                            <StackPanel Spacing="6">
                                <TextBlock Text="Throughput" Style="{StaticResource Heading.Sub}"/>
                                <TextBlock x:Name="labelMessagesPerSecond" Text="N/A" FontSize="26" FontWeight="SemiBold" Foreground="{StaticResource Brush.Text.Primary}"/>
                                <TextBlock Text="Messages / second" Style="{StaticResource Caption}"/>
                            </StackPanel>
                        </Border>
                    </Grid>
                </StackPanel>
            </Border>

            <Border x:Name="recentSection"
                    Style="{StaticResource Card}"
                    Padding="28"
                    CornerRadius="22">
                <StackPanel Spacing="16">
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Stretch" Spacing="12">
                        <TextBlock Text="Recent Events" Style="{StaticResource Heading}"/>
                        <Border Background="{StaticResource Brush.Surface}" CornerRadius="8" Padding="8,3">
                            <TextBlock Text="Chronological feed" Style="{StaticResource Caption}"/>
                        </Border>
                    </StackPanel>

                    <Border Background="{StaticResource Brush.Surface}" BorderBrush="{StaticResource Brush.Border}" BorderThickness="1" CornerRadius="18" Padding="0">
                        <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled" Padding="0" MaxHeight="400">
                            <StackPanel x:Name="stackPanelRecentEvents" Padding="24" Spacing="12"/>
                        </ScrollViewer>
                    </Border>
                </StackPanel>
            </Border>
        </StackPanel>
    </Grid>
</Page>
